{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/data-retriever.service\";\nimport * as i2 from \"../options/options.component\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../in-game-cards/in-game-cards.component\";\nimport * as i5 from \"../judge/judge.component\";\n\nfunction GameComponent_app_in_game_cards_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-in-game-cards\", 5);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"trashHasCards\", !!ctx_r0.trash.length)(\"inGameCards\", ctx_r0.buffer);\n  }\n}\n\nfunction GameComponent_app_judge_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-judge\", 6);\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"allCards\", ctx_r1.allCards)(\"cardsToGuess\", ctx_r1.trash);\n  }\n}\n\nexport let GameComponent = /*#__PURE__*/(() => {\n  class GameComponent {\n    constructor(_dataRetrieverService) {\n      this._dataRetrieverService = _dataRetrieverService;\n      this.buffer = [];\n      this.trash = [];\n      this.finished = false;\n\n      _dataRetrieverService.getCards().subscribe(cards => {\n        this.allCards = cards;\n        this.pack = _dataRetrieverService.getMixedCards(this.allCards);\n      });\n    }\n\n    ngOnInit() {}\n\n    giveCards(number) {\n      if (!this.pack.length) {\n        alert(\"empty\");\n        return;\n      }\n\n      if (this.buffer.length) {\n        this.trash.push(...this.buffer);\n        this.buffer = [];\n      }\n\n      for (let index = 0; index < number; index++) {\n        let card = this.pack.pop();\n\n        if (!card) {\n          break;\n        }\n\n        this.buffer.push(card);\n      }\n    }\n\n    finish() {\n      if (this.buffer.length) {\n        this.trash.push(...this.buffer);\n        this.buffer = [];\n      }\n\n      this.finished = true;\n    }\n\n  }\n\n  GameComponent.ɵfac = function GameComponent_Factory(t) {\n    return new (t || GameComponent)(i0.ɵɵdirectiveInject(i1.DataRetrieverService));\n  };\n\n  GameComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GameComponent,\n    selectors: [[\"app-game\"]],\n    decls: 6,\n    vars: 3,\n    consts: [[1, \"container\"], [3, \"giveCardsRequested\", \"memoryFinished\"], [1, \"row\", \"justify-content-center\"], [3, \"trashHasCards\", \"inGameCards\", 4, \"ngIf\"], [3, \"allCards\", \"cardsToGuess\", 4, \"ngIf\"], [3, \"trashHasCards\", \"inGameCards\"], [3, \"allCards\", \"cardsToGuess\"]],\n    template: function GameComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"app-options\", 1);\n        i0.ɵɵlistener(\"giveCardsRequested\", function GameComponent_Template_app_options_giveCardsRequested_1_listener($event) {\n          return ctx.giveCards($event);\n        })(\"memoryFinished\", function GameComponent_Template_app_options_memoryFinished_1_listener() {\n          return ctx.finish();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, GameComponent_app_in_game_cards_4_Template, 1, 2, \"app-in-game-cards\", 3);\n        i0.ɵɵtemplate(5, GameComponent_app_judge_5_Template, 1, 2, \"app-judge\", 4);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" Cards left: \", ctx.pack.length, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.finished);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.finished);\n      }\n    },\n    directives: [i2.OptionsComponent, i3.NgIf, i4.InGameCardsComponent, i5.JudgeComponent],\n    styles: [\".card-img[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]{padding:10px;border:none;box-shadow:6px 6px 7px 3px;margin:10px;transition:all .2s ease-in-out;cursor:not-allowed;max-width:138px;max-height:184px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:scale(1.1)}\"]\n  });\n  return GameComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}